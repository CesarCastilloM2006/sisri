<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tablero de Control - Sisri</title>
    <style>
       body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #e8f5e9;
        }
        header {
            background-color: #2d462e;
            color: white;
            padding: 10px 0;
            text-align: center;
            position: relative;
        }
        header img {
            width: 160px; /* Adjust logo size */
            height: auto;
            position: relative; /* Center the logo */
            top: 0;
            left: 0;
            transform: none;
        }
        header .auth-links {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%); /* Center vertically */
        }
        nav {
            display: flex;
            justify-content: center;
            background-color: #81a082;
            padding: 10px 0;
        }
        nav a {
            color: white;
            padding: 14px 20px;
            text-decoration: none;
            text-align: center;
            font-size: 1.1rem;
        }
        nav a:hover {
            background-color: #66bb6a;
        }
        .container {
            padding: 20px;
            text-align: center;
        }
        .main {
            flex: 3;
            padding: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        .card {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            flex: 1 1 calc(33% - 40px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .card img, .card canvas {
            max-width: 100%;
        }
        .card h2 {
            margin-bottom: 20px;
        }
        .kpi {
            background-color: #f1f8e9;
            padding: 10px;
            border-radius: 50%;
            text-align: center;
            margin-bottom: 10px;
            width: 100px;
            height: 100px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            animation: fadeIn 2s ease-in-out;
        }
        .kpi h3 {
            margin: 0;
            font-size: 1.2em;
        }
        .kpi p {
            margin: 5px 0;
            font-size: 1em;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 8px;
            text-align: left;
        }
        form {
            width: 100%;
        }
        label, input, textarea {
            width: 100%;
            margin-bottom: 10px;
        }
        input[type="submit"] {
            width: auto;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <img src="images/logo sisri blanco (1).png" alt="Logo">
        <div class="auth-links">
            <a href="login.html">Sign in</a>
            <a href="signup.html">Sign up</a>
        </div>
    </header>
    <nav>
        <a href="index.html">Inicio</a>
        <a href="sobrenos.html">Sobre Nosotros</a>
        <a href="servicios.html">Servicios</a>
        <a href="funcionam.html">Funcionamiento</a>
        <a href="contacto.html">Contacto</a>
        <a href="modelo.html">Modelo</a>
        <a href="tablero.html">Tablero</a>
    </nav>
    <div class="container">
        <h2>Tablero de Control</h2>
        <h4>Aquí se reflejan los datos de tu Sisri</h4>
        <div class="main">
            <div class="card">
                <h2>Variables Climáticas</h2>
                <div class="kpi">
                    <h3>Temp</h3>
                    <p id="temp_kpi">24°C</p>
                </div>
                <div class="kpi">
                    <h3>Humedad</h3>
                    <p id="humidity_kpi">60%</p>
                </div>
                <canvas id="climateChart"></canvas>
            </div>
            <div class="card">
                <h2>Variables de Humedad del Suelo</h2>
                <div class="kpi">
                    <h3>Suelo</h3>
                    <p id="soil_kpi">33%</p>
                </div>
                <canvas id="soilMoistureChart"></canvas>
            </div>
            <div class="card">
                <h2>Evapotranspiración</h2>
                <div class="kpi">
                    <h3>ET</h3>
                    <p id="eto_kpi">12 mm</p>
                </div>
                <canvas id="evapotranspirationChart"></canvas>
            </div>
            <div class="card">
                <h2>Radiación Solar</h2>
                <canvas id="solarRadiationChart"></canvas>
            </div>
            <div class="card">
                <h2>Velocidad del Viento</h2>
                <canvas id="windSpeedChart"></canvas>
            </div>
            <div class="card">
                <h2>Imagen del Invernadero</h2>
                <img src="images/imagen de invernadero.jpeg" alt="Imagen del Invernadero">
            </div>
            <div class="card">
                <h2>Registro de Riego</h2>
                <table>
                    <tr>
                        <th>Fecha</th>
                        <th>Hora</th>
                        <th>Duración</th>
                        <th>Cantidad de Agua</th>
                        <th>Comentarios</th>
                    </tr>
                    <tr>
                        <td>2024-06-07</td>
                        <td>08:00</td>
                        <td>30 mins</td>
                        <td>20 L</td>
                        <td>Riego matutino</td>
                    </tr>
                    <tr>
                        <td>2024-06-07</td>
                        <td>14:00</td>
                        <td>45 mins</td>
                        <td>30 L</td>
                        <td>Riego vespertino</td>
                    </tr>
                </table>
                <h3>Nuevo Registro de Riego</h3>
                <form>
                    <label for="date">Fecha:</label><br>
                    <input type="date" id="date" name="date"><br>
                    <label for="time">Hora:</label><br>
                    <input type="time" id="time" name="time"><br>
                    <label for="duration">Duración:</label><br>
                    <input type="text" id="duration" name="duration"><br>
                    <label for="water">Cantidad de Agua:</label><br>
                    <input type="text" id="water" name="water"><br>
                    <label for="comments">Comentarios:</label><br>
                    <textarea id="comments" name="comments"></textarea><br>
                    <input type="submit" value="Enviar">
                </form>
            </div>
        </div>
    </div>
    <footer>
        <p>&copy; 2024 Sisri. Todos los derechos reservados.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Datos de ejemplo (dummies) basados en el archivo CSV
        const data = {
            humidity: [64.98, 88.03, 79.28, 73.95, 56.24, 80.12],
            temperature: [21.79, 30.70, 31.41, 28.42, 31.56, 29.87],
            solar_radiation: [186.26, 154.65, 267.32, 260.74, 174.71, 200.54],
            wind_speed: [4.05, 4.05, 4.34, 4.57, 2.56, 3.45],
            soil_moisture: [0.22, 0.29, 0.24, 0.26, 0.38, 0.35],
            eto: [4.85, 2.78, 5.13, 5.56, 8.38, 6.12],
            irrigation: [0, 5, 10, 10, 5, 15]
        };

        // Actualizar KPIs
        document.getElementById('temp_kpi').innerText = `${data.temperature[data.temperature.length - 1]}°C`;
        document.getElementById('humidity_kpi').innerText = `${data.humidity[data.humidity.length - 1]}%`;
        document.getElementById('soil_kpi').innerText = `${data.soil_moisture[data.soil_moisture.length - 1]}%`;
        document.getElementById('eto_kpi').innerText = `${data.eto[data.eto.length - 1]} mm`;

        // Gráfica de Variables Climáticas
        var ctx = document.getElementById('climateChart').getContext('2d');
        var climateChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio'],
                datasets: [{
                    label: 'Temperatura (°C)',
                    data: data.temperature,
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }, {
                    label: 'Humedad Relativa (%)',
                    data: data.humidity,
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Gráfica de Humedad del Suelo
        var ctx2 = document.getElementById('soilMoistureChart').getContext('2d');
        var soilMoistureChart = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio'],
                datasets: [{
                    label: 'Humedad del Suelo (%)',
                    data: data.soil_moisture,
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Gráfica de Evapotranspiración
        var ctx3 = document.getElementById('evapotranspirationChart').getContext('2d');
        var evapotranspirationChart = new Chart(ctx3, {
            type: 'line',
            data: {
                labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio'],
                datasets: [{
                    label: 'Evapotranspiración (mm)',
                    data: data.eto,
                    borderColor: 'rgba(255, 206, 86, 1)',
                    borderWidth: 1
                }, {
                    label: 'Precipitación (mm)',
                    data: data.irrigation,
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Gráfica de Radiación Solar
        var ctx4 = document.getElementById('solarRadiationChart').getContext('2d');
        var solarRadiationChart = new Chart(ctx4, {
            type: 'line',
            data: {
                labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio'],
                datasets: [{
                    label: 'Radiación Solar (W/m²)',
                    data: data.solar_radiation,
                    borderColor: 'rgba(255, 159, 64, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Gráfica de Velocidad del Viento
        var ctx5 = document.getElementById('windSpeedChart').getContext('2d');
        var windSpeedChart = new Chart(ctx5, {
            type: 'line',
            data: {
                labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio'],
                datasets: [{
                    label: 'Velocidad del Viento (m/s)',
                    data: data.wind_speed,
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</body>
</html>